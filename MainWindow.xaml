<Window x:Class="Fortnite_Replay_Parser_GUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Fortnite_Replay_Parser_GUI"
        mc:Ignorable="d"
        Title="MainWindow" Width="800" d:DesignHeight="477.686" Height="496">
    <Grid>
        <!-- 列: 左余白 / メイン領域（伸縮） / apply ボタン領域（固定） / 右余白 -->
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="10"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="10"/>
        </Grid.ColumnDefinitions>

        <!-- 行: 各行は Auto だが、結果表示だけ Star で伸縮 -->
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Step1 ラベル -->
            <RowDefinition Height="Auto"/>
            <!-- ファイルパス + Apply -->
            <RowDefinition Height="Auto"/>
            <!-- Step2 ラベル -->
            <RowDefinition Height="Auto"/>
            <!-- ComboBox -->
            <RowDefinition Height="*"/>
            <!-- 結果TextBox（縦に伸縮） -->
            <RowDefinition Height="Auto"/>
            <!-- 下部固定コントロール -->
        </Grid.RowDefinitions>

        <!-- Step 1 ラベル -->
        <Label Content="Step 1 - Choose a Replay File then click Apply:" 
               Grid.Row="0" Grid.Column="1" HorizontalAlignment="Left" 
               VerticalAlignment="Center" Height="26" Margin="0,10,0,0"/>

        <!-- ファイルパス（伸縮） -->
        <TextBox x:Name="lbl_replayFilePath" 
                 Grid.Row="1" Grid.Column="1" 
                 VerticalAlignment="Center"
                 Margin="0,0,30,0"
                 TextWrapping="Wrap" Text="Replay_File_Path_here!" 
                 Height="24" IsReadOnly="True" Grid.ColumnSpan="2" />

        <!-- Apply ボタン（右側に固定） -->
        <Button x:Name="applyReplayFile" Content="..." 
                Grid.Row="1" Grid.Column="2"
                HorizontalAlignment="Right" VerticalAlignment="Center"
                Margin="0,8,0,8" Width="25" Height="24"
                Click="Button_Click"/>

        <!-- Step 2 ラベル -->
        <Label Content="Step 2 - Pick an Epic ID to track:" 
               Grid.Row="2" Grid.Column="1" HorizontalAlignment="Left" 
               VerticalAlignment="Center" Height="26" Margin="0,6,0,0"/>

        <!-- プレイヤー選択 ComboBox（左右に合わせて伸縮） -->
        <ComboBox x:Name="cmb_Players_In_Replay" 
                  Grid.Row="3" Grid.Column="1" Grid.ColumnSpan="2" VerticalAlignment="Center"
                  Margin="6,0,0,0" Height="24"
                  SelectionChanged="ComboBox_SelectionChanged"/>

        <!-- 結果テキスト（縦横とも伸縮） -->
        <TextBox x:Name="tb_Parse_Result" 
                 Grid.Row="4" Grid.Column="1" Grid.ColumnSpan="2"
                 Margin="6,6,0,6"
                 TextWrapping="Wrap" VerticalScrollBarVisibility="Auto"
                 Text="TextBox&#xD;&#xA;"/>

        <!-- 下部固定領域: 左ラベル -->
        <Label Content="Time Offset for Video:" 
               Grid.Row="4" Grid.Column="1"
               HorizontalAlignment="Left" VerticalAlignment="Bottom"
               Margin="0,0,0,5" Height="26" Grid.RowSpan="2"/>


        <!-- 下部固定領域: TimeAdjustment ボタン （左寄せ、Bottom固定） -->
        <Button x:Name="btn_ApplyOffset" 
                Grid.Column="1" 
                Content="Apply" 
                HorizontalAlignment="Left" 
                Margin="249,0,0,0" 
                Grid.Row="5" 
                VerticalAlignment="Center" 
                IsEnabled="False" 
Click="Button_Click_btn_ApplyOffset"/>


        <!-- 下部固定領域: TimeAdjustment（左寄せ、Bottom固定） -->
        <TextBox x:Name="TimeAdjustment" 
                 Grid.Row="5" Grid.Column="1"
                 HorizontalAlignment="Left" VerticalAlignment="Top"
                 Margin="124,5,0,5" Width="120" Height="22"
                 HorizontalContentAlignment="Right"
                 Text="0" TextChanged="TimeAdjustment_TextChanged" KeyDown="TimeAdjustment_KeyDown"/>

        <!-- 下部固定領域: Save ボタン（右寄せ・Bottom固定、右オフセットは列の右余白で確保） -->
        <Button x:Name="btn_SaveReplayJson" 
                Grid.Row="5" Grid.Column="1"
                HorizontalAlignment="Right" VerticalAlignment="Bottom"
                Margin="0,0,0,5"
                Content="Save Raw Replay Data as JSON..." 
                Width="166"
                Click="Button_Click_btn_SaveReplayJson" Grid.ColumnSpan="2"/>
    </Grid>
</Window>